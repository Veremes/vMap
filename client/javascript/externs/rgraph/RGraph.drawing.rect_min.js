typeof RGraph=="undefined"&&(RGraph={}),typeof RGraph.Drawing=="undefined"&&(RGraph.Drawing={}),RGraph.Drawing.Rect=function(n,t,i,r,u){if(this.id=n,this.canvas=document.getElementById(n),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.colorsParsed=!1,this.canvas.__object__=this,this.type="drawing.rect",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),RGraph.OldBrowserCompat(this.context),this.properties={"chart.strokestyle":"rgba(0,0,0,0)","chart.fillstyle":"red","chart.events.click":null,"chart.events.mousemove":null,"chart.shadow":!1,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.highlight.stroke":"black","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.tooltips.valign":"top"},!this.canvas){alert("[DRAWING.RECT] No canvas support");return}this.coords=[[Math.round(t),Math.round(i),r,u]],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),RGraph.Register(this)},RGraph.Drawing.Rect.prototype.Set=function(n,t){return n=n.toLowerCase(),n.substr(0,6)!="chart."&&(n="chart."+n),this.properties[n]=t,this},RGraph.Drawing.Rect.prototype.Get=function(n){return n.substr(0,6)!="chart."&&(n="chart."+n),this.properties[n.toLowerCase()]},RGraph.Drawing.Rect.prototype.Draw=function(){return RGraph.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.context.beginPath(),this.context.strokeStyle=this.properties["chart.strokestyle"],this.context.fillStyle=this.properties["chart.fillstyle"],this.properties["chart.shadow"]&&RGraph.SetShadow(this,this.properties["chart.shadow.color"],this.properties["chart.shadow.offsetx"],this.properties["chart.shadow.offsety"],this.properties["chart.shadow.blur"]),this.context.rect(this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3]),this.context.stroke(),this.context.fill(),RGraph.NoShadow(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw"),this},RGraph.Drawing.Rect.prototype.getObjectByXY=function(n){if(this.getShape(n))return this},RGraph.Drawing.Rect.prototype.getShape=function(n){for(var e=RGraph.getMouseXY(n),o=e[0],s=e[1],t=0;t<this.coords.length;t++){var i=this.coords[t][0],r=this.coords[t][1],u=this.coords[t][2],f=this.coords[t][3];if(o>=i&&o<=i+u&&s>=r&&s<=r+f)return{0:this,1:i,2:r,3:u,4:f,5:0,object:this,x:i,y:r,width:u,height:f,index:0,tooltip:this.properties["chart.tooltips"]?this.properties["chart.tooltips"][0]:null}}return null},RGraph.Drawing.Rect.prototype.positionTooltip=function(n,t,i,r){var o=n.coords[0][0],h=n.coords[0][1],s=n.coords[0][2],l=n.coords[0][3],e=RGraph.getCanvasXY(n.canvas),f=r.offsetWidth,c=r.offsetHeight,u;r.style.left=0,r.style.top=this.properties["chart.tooltips.valign"]=="center"?e[1]+h+l/2-c+"px":e[1]+h-c-7+"px",r.style.overflow="",u=new Image,u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",u.style.position="absolute",u.id="__rgraph_tooltip_pointer__",u.style.top=r.offsetHeight-2+"px",r.appendChild(u),e[0]+o+s/2-f/2<10?(r.style.left=e[0]+o-f*.1+s/2+"px",u.style.left=f*.1-8.5+"px"):e[0]+o+f/2>document.body.offsetWidth?(r.style.left=e[0]+o-f*.9+s/2+"px",u.style.left=f*.9-8.5+"px"):(r.style.left=e[0]+o+s/2-f*.5+"px",u.style.left=f*.5-8.5+"px")},RGraph.Drawing.Rect.prototype.Highlight=function(n){RGraph.Highlight.Rect(this,n)},RGraph.Drawing.Rect.prototype.parseColors=function(){this.properties["chart.fillstyle"]=this.parseSingleColorForGradient(this.properties["chart.fillstyle"]),this.properties["chart.strokestyle"]=this.parseSingleColorForGradient(this.properties["chart.strokestyle"]),this.properties["chart.highlight.stroke"]=this.parseSingleColorForGradient(this.properties["chart.highlight.stroke"]),this.properties["chart.highlight.fill"]=this.parseSingleColorForGradient(this.properties["chart.highlight.fill"])},RGraph.Drawing.Rect.prototype.parseSingleColorForGradient=function(n){var u=this.canvas,f=this.context,t;if(!n)return n;if(n.match(/^gradient\((.*)\)$/i)){var i=RegExp.$1.split(":"),r=f.createLinearGradient(0,0,u.width,0),e=1/(i.length-1);for(r.addColorStop(0,RGraph.trim(i[0])),t=1;t<i.length;++t)r.addColorStop(t*e,RGraph.trim(i[t]))}return r?r:n}