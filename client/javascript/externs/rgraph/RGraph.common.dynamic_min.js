typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.InstallWindowMousedownListener=function(){if(!window.__rgraph_mousedown_event_listener_installed__){var n=function(n){if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),typeof window.onmousedown_rgraph=="function")window.onmousedown_rgraph(n);RGraph.HideTooltip&&RGraph.Registry.Get("chart.tooltip")&&(RGraph.Clear(RGraph.Registry.Get("chart.tooltip").__canvas__),RGraph.Redraw(),RGraph.HideTooltip())};window.addEventListener("mousedown",n,!1),window.__rgraph_mousedown_event_listener_installed__=n}},RGraph.InstallWindowMouseupListener=function(){if(!window.__rgraph_mouseup_event_listener_installed__){var n=function(n){var i,t,r;if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),RGraph.Annotating_window_onmouseup){RGraph.Annotating_window_onmouseup(n);return}if(typeof window.onmouseup_rgraph=="function")window.onmouseup_rgraph(n);for((RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend"),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null),i=document.getElementsByTagName("canvas"),t=0;t<i.length;++t)i[t].__object__&&i[t].__object__.isRGraph&&(i[t].__object__.Get("chart.annotatable")||(i[t].__rgraph_trace_cover__||r?r=!0:RGraph.Clear(i[t])));r||RGraph.Redraw()};window.addEventListener("mouseup",n,!1),window.__rgraph_mouseup_event_listener_installed__=n}},RGraph.InstallCanvasMouseupListener=function(n){if(!n.canvas.__rgraph_mouseup_event_listener_installed__){var t=function(n){var r,u,i,c,t,e,f,o,s;if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),typeof n.target.onmouseup_rgraph=="function")n.target.onmouseup_rgraph(n);if(r=RGraph.ObjectRegistry.getObjectsByXY(n),r){for(u=0;u<r.length;++u){if(i=r[u],c=r[u].id,!RGraph.is_null(i)&&RGraph.Tooltip&&(t=i.getShape(n),t&&t.tooltip&&(e=t.tooltip,e))){if(f=t.object.type,f!="line"&&f!="rscatter"&&(f!="scatter"||i.Get("chart.boxplot"))&&f!="radar")o=n.pageX,s=n.pageY;else var h=RGraph.getCanvasXY(i.canvas),o=h[0]+t.x,s=h[1]+t.y;return RGraph.Clear(i.canvas),RGraph.Redraw(),i.Highlight(t),RGraph.Registry.Set("chart.tooltip.shape",t),RGraph.Tooltip(i,e,o,s,t.index,n),RGraph.Registry.Get("chart.tooltip")&&(RGraph.Registry.Get("chart.tooltip").__shape__=t,RGraph.EvaluateCursor(n)),n.cancelBubble=!0,n.stopPropagation(),!1}if((RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend"),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null),t||i.overChartArea&&i.overChartArea(n))break}typeof InteractiveKey_line_mouseup=="function"&&InteractiveKey_line_mouseup(n),typeof InteractiveKey_pie_mouseup=="function"&&InteractiveKey_pie_mouseup(n)}};n.canvas.addEventListener("mouseup",t,!1),n.canvas.__rgraph_mouseup_event_listener_installed__=t}},RGraph.InstallCanvasMousemoveListener=function(n){if(!n.canvas.__rgraph_mousemove_event_listener_installed__){var t=function(n){var u,f,t,s,i,r,e,o;if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),typeof n.target.onmousemove_rgraph=="function")n.target.onmousemove_rgraph(n);if(u=RGraph.ObjectRegistry.getObjectsByXY(n),u&&u.length)for(f=0;f<u.length;++f)if(t=u[f],s=t.id,t.getShape){if(i=t.getShape(n),r=t.Get("chart.events.mousemove"),r||typeof t.onmousemove!="function"||(r=t.onmousemove),i&&(e=i.object.type=="scatter"?i.index_adjusted:i.index,typeof t["$"+e]=="object"&&typeof t["$"+e].onmousemove=="function"&&(o=t["$"+e].onmousemove)),i&&(typeof r=="function"||typeof o=="function")?(t.Get("chart.events.mousemove.revertto")==null&&t.Set("chart.events.mousemove.revertto",n.target.style.cursor),typeof r=="function"&&r(n,i),typeof o=="function"&&o(n,i)):typeof t.Get("chart.events.mousemove.revertto")=="string"&&(RGraph.cursor.push("default"),t.Set("chart.events.mousemove.revertto",null)),i&&(t.Get("chart.tooltips")&&t.Get("chart.tooltips")[i.index]||i.tooltip)&&(t.Get("chart.tooltips.event")=="onmousemove"||t.Get("chart.tooltips.event")=="mousemove")&&(RGraph.is_null(RGraph.Registry.Get("chart.tooltip"))||RGraph.Registry.Get("chart.tooltip").__index__!=i.index||typeof i.dataset=="number"&&i.dataset!=RGraph.Registry.Get("chart.tooltip").__shape__.dataset||t.uid!=RGraph.Registry.Get("chart.tooltip").__object__.uid)){RGraph.Clear(t.canvas),RGraph.Redraw(),t.canvas.__rgraph_mouseup_event_listener_installed__(n);return}if(t&&t.Get("chart.adjustable")&&t.Adjusting_mousemove(n),i||t.overChartArea&&t.overChartArea(n))break}n.target&&n.target.__object__&&n.target.__object__.Get("chart.crosshairs")&&RGraph.DrawCrosshairs(n,n.target.__object__),typeof InteractiveKey_line_mousemove=="function"&&InteractiveKey_line_mousemove(n),typeof InteractiveKey_pie_mousemove=="function"&&InteractiveKey_pie_mousemove(n),n.target.__object__&&n.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousemove&&RGraph.Annotating_canvas_onmousemove(n),RGraph.EvaluateCursor(n)};n.canvas.addEventListener("mousemove",t,!1),n.canvas.__rgraph_mousemove_event_listener_installed__=t}},RGraph.InstallCanvasMousedownListener=function(n){if(!n.canvas.__rgraph_mousedown_event_listener_installed__){var t=function(n){var u,t,r,i;if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),typeof n.target.onmousedown_rgraph=="function")n.target.onmousedown_rgraph(n);if(n.target.__object__&&n.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousedown){RGraph.Annotating_canvas_onmousedown(n);return}if(t=RGraph.ObjectRegistry.getObjectByXY(n),t){if(u=t.id,t&&t.isRGraph&&t.Get("chart.adjustable")&&(t=RGraph.ObjectRegistry.getObjectByXY(n),t&&t.isRGraph)){switch(t.type){case"bar":i=t.getShapeByX(n);break;case"gantt":i=t.getShape(n),i&&(r=RGraph.getMouseXY(n),RGraph.Registry.Set("chart.adjusting.gantt",{index:i.index,object:t,mousex:r[0],mousey:r[1],event_start:t.data[i.index][0],event_duration:t.data[i.index][1],mode:r[0]>i.x+i.width-5?"resize":"move",shape:i}));break;case"line":i=t.getShape(n);break;default:i=null}RGraph.Registry.Set("chart.adjusting.shape",i),RGraph.FireCustomEvent(t,"onadjustbegin"),RGraph.Registry.Set("chart.adjusting",t),RGraph.Clear(t.canvas),RGraph.Redraw(),t.canvas.__rgraph_mousemove_event_listener_installed__(n)}RGraph.Clear(t.canvas),RGraph.Redraw()}};n.canvas.addEventListener("mousedown",t,!1),n.canvas.__rgraph_mousedown_event_listener_installed__=t}},RGraph.InstallCanvasClickListener=function(n){if(!n.canvas.__rgraph_click_event_listener_installed__){var t=function(n){var e,u,f,r;if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=n),n=RGraph.FixEventObject(n),typeof n.target.onclick_rgraph=="function")n.target.onclick_rgraph(n);for(e=RGraph.ObjectRegistry.getObjectsByXY(n),u=0;u<e.length;++u){var t=e[u],o=t.id,i=t.getShape(n),r=t.Get("chart.events.click");if(r||typeof t.onclick!="function"||(r=t.onclick),i&&typeof r=="function"){r(n,i);return}if(i&&(f=i.object.type=="scatter"?i.index_adjusted:i.index,typeof f=="number"&&t["$"+f]&&(r=t["$"+f].onclick,typeof r=="function"))){r(n,i);return}if(i||t.overChartArea&&t.overChartArea(n))break}};n.canvas.addEventListener("click",t,!1),n.canvas.__rgraph_click_event_listener_installed__=t}},RGraph.EvaluateCursor=function(n){for(var v=RGraph.getMouseXY(n),s=v[0],h=v[1],y=n.target,u=RGraph.ObjectRegistry.getObjectsByCanvasID(y.id),t,p,e,c,o,l,r,f,a,i=0;i<u.length;++i)(u[i].getShape&&u[i].getShape(n)||u[i].overChartArea&&u[i].overChartArea(n))&&(t=u[i],p=t.id);if(!RGraph.is_null(t)&&(t.getShape&&t.getShape(n)&&(e=t.getShape(n),t.Get("chart.tooltips")&&(c=RGraph.parseTooltipText(t.Get("chart.tooltips"),e.index),!c&&e.object.type=="scatter"&&e.index_adjusted&&(c=RGraph.parseTooltipText(t.Get("chart.tooltips"),e.index_adjusted)),c&&(f=!0))),!RGraph.is_null(t)&&t.Get("chart.key.interactive")))for(o=0;o<t.coords.key.length;++o)s>t.coords.key[o][0]&&s<t.coords.key[o][0]+t.coords.key[o][2]&&h>t.coords.key[o][1]&&h<t.coords.key[o][1]+t.coords.key[o][3]&&(f=!0);for(RGraph.is_null(e)||RGraph.is_null(t)||(RGraph.is_null(t.Get("chart.events.mousemove"))||typeof t.Get("chart.events.mousemove")!="function"||(r=t.Get("chart.events.mousemove").toString(),r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/)&&(f=!0)),RGraph.is_null(t.onmousemove)||typeof t.onmousemove!="function"||(r=t.onmousemove.toString(),r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/)&&(f=!0)),l=e.object.type=="scatter"?e.index_adjusted:e.index,RGraph.is_null(t["$"+l])||typeof t["$"+l].onmousemove!="function"||(r=t["$"+l].onmousemove.toString(),r.match(/pointer/)&&r.match(/cursor/)&&r.match(/style/)&&(f=!0))),u=RGraph.ObjectRegistry.objects.byCanvasID,i=0;i<u.length;++i)u[i]&&u[i][1].Get("chart.resizable")&&(a=!0);a&&s>n.target.width-32&&h>n.target.height-16&&(f=!0),n.target.style.cursor=f?"pointer":n.target.style.cursor=="pointer"?"default":null,a&&s>=n.target.width-15&&h>=n.target.height-15&&(n.target.style.cursor="move"),typeof mouse_over_key=="boolean"&&mouse_over_key&&(n.target.style.cursor="pointer"),t&&t.type=="gantt"&&t.Get("chart.adjustable")&&(n.target.style.cursor=t.getShape&&t.getShape(n)?"ew-resize":"default"),t&&t.type=="line"&&t.Get("chart.adjustable")&&(n.target.style.cursor=t.getShape&&t.getShape(n)?"ns-resize":"default"),n.target.__object__&&n.target.__object__.Get("chart.annotatable")&&(n.target.style.cursor="crosshair")},RGraph.parseTooltipText=function(n,t){var i;return n?(i=typeof n=="function"?n(t):typeof n=="string"?n:typeof n=="object"&&typeof n[t]=="function"?n[t](t):typeof n[t]=="string"&&n[t]?n[t]:"",i=="undefined"?i="":i=="null"&&(i=""),RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(i):i):null},RGraph.DrawCrosshairs=function(n,t){var n=RGraph.FixEventObject(n),w=t.canvas.width,b=t.canvas.height,k=RGraph.getMouseXY(n),o=k[0],s=k[1],v=t.gutterLeft,d=t.gutterRight,p=t.gutterTop,g=t.gutterBottom,r=t.properties,nt,c,e,u,f,a,h,y,l,i;if(RGraph.RedrawCanvas(t.canvas),o>=v&&s>=p&&o<=w-d&&s<=b-g){if(nt=r["chart.crosshairs.linewidth"]?r["chart.crosshairs.linewidth"]:1,t.context.lineWidth=nt?nt:1,t.context.beginPath(),t.context.strokeStyle=r["chart.crosshairs.color"],r["chart.crosshairs.snap"]){var u=null,c=null,h=null;if(t.type=="line"){for(f=0;f<t.coords.length;++f)h=RGraph.getHypLength(t.coords[f][0],t.coords[f][1],o,s),(typeof c!="number"||h<c)&&(u=f,c=h);for(o=t.coords[u][0],s=t.coords[u][1],e=0;e<t.coords2.length;++e)for(u=0;u<t.coords2[e].length;++u)t.coords2[e][u][0]==o&&t.coords2[e][u][1]==s&&(t.canvas.__crosshairs_snap_dataset__=e,t.canvas.__crosshairs_snap_point__=u)}else{for(f=0;f<t.coords.length;++f)for(a=0;a<t.coords[f].length;++a)if(h=RGraph.getHypLength(t.coords[f][a][0],t.coords[f][a][1],o,s),typeof c!="number"||h<c)var e=f,u=a,c=h;t.canvas.__crosshairs_snap_dataset__=e,t.canvas.__crosshairs_snap_point__=u,o=t.coords[e][u][0],s=t.coords[e][u][1]}}if(r["chart.crosshairs.vline"]&&(t.context.moveTo(Math.round(o),Math.round(p)),t.context.lineTo(Math.round(o),Math.round(b-g))),r["chart.crosshairs.hline"]&&(t.context.moveTo(Math.round(v),Math.round(s)),t.context.lineTo(Math.round(w-d),Math.round(s))),t.context.stroke(),t.type=="scatter"&&r["chart.crosshairs.coords"]){y=(o-v)/(w-v-d)*(r["chart.xmax"]-r["chart.xmin"])+r["chart.xmin"],y=y.toFixed(r["chart.scale.decimals"]),l=t.max-(s-r["chart.gutter.top"])/(b-p-g)*t.max,t.type=="scatter"&&t.properties["chart.xaxispos"]=="center"&&(l=(l-t.max/2)*2),l=l.toFixed(r["chart.scale.decimals"]);var i=RGraph.Registry.Get("chart.coordinates.coords.div"),k=RGraph.getMouseXY(n),tt=RGraph.getCanvasXY(t.canvas);i||(i=document.createElement("DIV"),i.__object__=t,i.style.position="absolute",i.style.backgroundColor="white",i.style.border="1px solid black",i.style.fontFamily="Arial, Verdana, sans-serif",i.style.fontSize="10pt",i.style.padding="2px",i.style.opacity=1,i.style.WebkitBorderRadius="3px",i.style.borderRadius="3px",i.style.MozBorderRadius="3px",document.body.appendChild(i),RGraph.Registry.Set("chart.coordinates.coords.div",i)),i.style.opacity=1,i.style.display="inline",r["chart.crosshairs.coords.fixed"]?(i.style.left=tt[0]+v+3+"px",i.style.top=tt[1]+p+3+"px"):(i.style.left=Math.max(2,n.pageX-i.offsetWidth-3)+"px",i.style.top=Math.max(2,n.pageY-i.offsetHeight-3)+"px"),i.innerHTML='<span style="color: #666">'+r["chart.crosshairs.coords.labels.x"]+":<\/span> "+y+'<br><span style="color: #666">'+r["chart.crosshairs.coords.labels.y"]+":<\/span> "+l,t.canvas.addEventListener("mouseout",RGraph.HideCrosshairCoords,!1),t.canvas.__crosshairs_labels__=i,t.canvas.__crosshairs_x__=y,t.canvas.__crosshairs_y__=l}else r["chart.crosshairs.coords"]&&alert("[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart");RGraph.FireCustomEvent(t,"oncrosshairs")}else RGraph.HideCrosshairCoords()}