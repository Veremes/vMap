typeof RGraph=="undefined"&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Contextmenu=function(n,t,r){var o=n.canvas,u;r=RGraph.FixEventObject(r),RGraph.FireCustomEvent(n,"onbeforecontextmenu"),RGraph.Registry.Get("chart.contextmenu")&&RGraph.HideContext(),RGraph.HideZoomedCanvas(),RGraph.HidePalette(),n.Set("chart.mousedown",!1);var s=r.pageX,h=r.pageY,f=document.createElement("div"),e=document.createElement("div");for(f.className="RGraph_contextmenu",f.__canvas__=o,f.style.position="absolute",f.style.left=0,f.style.top=0,f.style.border="1px solid black",f.style.backgroundColor="white",f.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",f.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",f.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",f.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",f.style.opacity=0,e.className="RGraph_contextmenu_background",e.style.position="absolute",e.style.backgroundColor="#ccc",e.style.borderRight="1px solid #aaa",e.style.top=0,e.style.left=0,e.style.width="18px",e.style.height="100%",e.style.opacity=0,f=document.body.appendChild(f),e=f.appendChild(e),i=0;i<t.length;++i)u=document.createElement("div"),u.__object__=n,u.__canvas__=o,u.__contextmenu__=f,u.className="RGraph_contextmenu_item",t[i]?(u.style.padding="2px 5px 2px 23px",u.style.fontFamily="Arial",u.style.fontSize="10pt",u.style.fontWeight="normal",u.innerHTML=t[i][0],RGraph.is_array(t[i][1])&&(u.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAQUlEQVQImY3NoQ2AMABE0ZewABMyGQ6mqWODzlAclBSFO8HZl8uf0FFxCHtwYkt4Y6ChYE44cGH9/fyae2p2LAleW9oVTQuVf6gAAAAASUVORK5CYII=)",u.style.backgroundRepeat="no-repeat",u.style.backgroundPosition="97% center"),t[i][1]?u.addEventListener?(u.addEventListener("mouseover",function(n){RGraph.HideContextSubmenu(),n.target.style.backgroundColor="rgba(0,0,0,0.2)",n.target.style.cursor="pointer"},!1),u.addEventListener("mouseout",function(n){n.target.style.backgroundColor="inherit",n.target.style.cursor="default"},!1)):(u.attachEvent("onmouseover",function(){RGraph.HideContextSubmenu(),event.srcElement.style.backgroundColor="#eee",event.srcElement.style.cursor="pointer"},!1),u.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):u.addEventListener?(u.addEventListener("mouseover",function(n){n.target.style.cursor="default"},!1),u.addEventListener("mouseout",function(n){n.target.style.cursor="default"},!1)):(u.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),u.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(u.style.borderBottom="1px solid #ddd",u.style.marginLeft="25px"),f.appendChild(u),t[i]&&t[i][1]&&typeof t[i][1]=="function"?u.addEventListener("click",t[i][1],!1):t[i]&&t[i][1]&&RGraph.is_array(t[i][1])&&function(){var r=t[i][1];u.addEventListener("mouseover",function(t){RGraph.Contextmenu_submenu(n,r,t.target)},!1)}();return f.style.width=f.offsetWidth+10+"px",f.style.height=f.offsetHeight-2+"px",s+f.offsetWidth>document.body.offsetWidth&&(s-=f.offsetWidth),f.style.left=s+"px",f.style.top=h+"px",setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu')) obj.style.opacity = 1",250),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.2",50),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.4",100),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.6",150),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 0.8",200),setTimeout("if (obj = RGraph.Registry.Get('chart.contextmenu.bg')) obj.style.opacity = 1",250),RGraph.Registry.Set("chart.contextmenu",f),RGraph.Registry.Set("chart.contextmenu.bg",e),RGraph.Registry.Get("chart.contextmenu").oncontextmenu=function(){return!1},RGraph.Registry.Get("chart.contextmenu.bg").oncontextmenu=function(){return!1},o.addEventListener("click",function(){RGraph.HideContext()},!1),window.addEventListener("click",function(){RGraph.HideContext()},!1),window.addEventListener("resize",function(){RGraph.HideContext()},!1),typeof n.getShape=="function"&&(RGraph.Registry.Get("chart.contextmenu").__shape__=n.getShape(r)),r.stopPropagation(),RGraph.FireCustomEvent(n,"oncontextmenu"),!1},RGraph.HideContext=function(){var n=RGraph.Registry.Get("chart.contextmenu"),t=RGraph.Registry.Get("chart.contextmenu.bg");RGraph.HideContextSubmenu(),n&&(n.parentNode.removeChild(n),t.parentNode.removeChild(t),n.style.visibility="hidden",n.style.display="none",RGraph.Registry.Set("chart.contextmenu",null),t.style.visibility="hidden",t.style.display="none",RGraph.Registry.Set("chart.contextmenu.bg",null))},RGraph.HideContextSubmenu=function(){var n=RGraph.Registry.Get("chart.contextmenu.submenu");n&&(n.style.visibility="none",n.style.display="none",RGraph.Registry.Set("chart.contextmenu.submenu",null))},RGraph.ShowContext=function(n){if(RGraph.HidePalette(),n.Get("chart.contextmenu")&&n.Get("chart.contextmenu").length){var t=navigator.userAgent.indexOf("Opera")>=0,i=navigator.userAgent.indexOf("Safari")>=0,r=navigator.userAgent.indexOf("Chrome")>=0,u=navigator.userAgent.indexOf("Firefox")>0&&navigator.userAgent.indexOf("Mac")>0,f=navigator.userAgent.indexOf("MSIE 9")>=0;(t||i)&&!r||u?n.canvas.addEventListener("dblclick",function(t){if(t.ctrlKey)return!0;RGraph.Registry.Get("chart.contextmenu")||RGraph.Contextmenu(n,n.Get("chart.contextmenu"),t)},!1):n.canvas.oncontextmenu=function(t){return(t=RGraph.FixEventObject(t),t.ctrlKey)?!0:(RGraph.Contextmenu(n,n.Get("chart.contextmenu"),t),!1)}}},RGraph.Contextmenu_submenu=function(n,t,i){var e,r,f;RGraph.HideContextSubmenu();var s=n.canvas,h=n.context,o=i.parentNode,u=document.createElement("DIV");for(u.style.position="absolute",u.style.width="100px",u.style.top=o.offsetTop+i.offsetTop+"px",u.style.left=o.offsetLeft+o.offsetWidth-(RGraph.isOld()?9:0)+"px",u.style.backgroundColor="white",u.style.border="1px solid black",u.className="RGraph_contextmenu",u.__contextmenu__=o,u.style.boxShadow="3px 3px 3px rgba(96,96,96,0.5)",u.style.MozBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",u.style.WebkitBoxShadow="3px 3px 3px rgba(96,96,96,0.5)",u.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#aaaaaa,direction=135)",document.body.appendChild(u),e=0;e<t.length;++e)r=document.createElement("DIV"),r.__canvas__=s,r.__contextmenu__=o,r.className="RGraph_contextmenu_item",t[e]?(r.style.padding="2px 5px 2px 23px",r.style.fontFamily="Arial",r.style.fontSize="10pt",r.style.fontWeight="normal",r.innerHTML=t[e][0],t[e][1]?r.addEventListener?(r.addEventListener("mouseover",function(n){n.target.style.backgroundColor="rgba(0,0,0,0.2)",n.target.style.cursor="pointer"},!1),r.addEventListener("mouseout",function(n){n.target.style.backgroundColor="inherit",n.target.style.cursor="default"},!1)):(r.attachEvent("onmouseover",function(){event.srcElement.style.backgroundColor="rgba(0,0,0,0.2)",event.srcElement.style.cursor="pointer"},!1),r.attachEvent("onmouseout",function(){event.srcElement.style.backgroundColor="inherit",event.srcElement.style.cursor="default"},!1)):r.addEventListener?(r.addEventListener("mouseover",function(n){n.target.style.cursor="default"},!1),r.addEventListener("mouseout",function(n){n.target.style.cursor="default"},!1)):(r.attachEvent("onmouseover",function(){event.srcElement.style.cursor="default"},!1),r.attachEvent("onmouseout",function(){event.srcElement.style.cursor="default"},!1))):(r.style.borderBottom="1px solid #ddd",r.style.marginLeft="25px"),u.appendChild(r),t[e]&&t[e][1]&&(document.all?r.attachEvent("onclick",t[e][1]):r.addEventListener("click",t[e][1],!1));f=document.createElement("DIV"),f.className="RGraph_contextmenu_background",f.style.position="absolute",f.style.backgroundColor="#ccc",f.style.borderRight="1px solid #aaa",f.style.top=0,f.style.left=0,f.style.width="18px",f.style.height="100%",f=u.appendChild(f),RGraph.Registry.Set("chart.contextmenu.submenu",u)},RGraph.showPNG=function(){var f,t,u,i,n,r;if(RGraph.isIE8()){alert("[RGRAPH PNG] Sorry, showing a PNG is not supported on MSIE8.");return}arguments[0]&&arguments[0].id?(t=arguments[0],f=arguments[1]):RGraph.Registry.Get("chart.contextmenu")?t=RGraph.Registry.Get("chart.contextmenu").__canvas__:alert("[RGRAPH SHOWPNG] Could not find canvas!"),u=t.__object__,i=document.createElement("DIV"),i.id="__rgraph_image_bg__",i.style.position="fixed",i.style.top="-10px",i.style.left="-10px",i.style.width="5000px",i.style.height="5000px",i.style.backgroundColor="rgb(204,204,204)",i.style.opacity=0,document.body.appendChild(i),n=document.createElement("DIV"),n.style.backgroundColor="white",n.style.opacity=0,n.style.border="1px solid black",n.style.position="fixed",n.style.top="20%",n.style.width=t.width+"px",n.style.height=t.height+35+"px",n.style.left=document.body.clientWidth/2-t.width/2+"px",n.style.padding="5px",n.style.borderRadius="10px",n.style.MozBorderRadius="10px",n.style.WebkitBorderRadius="10px",n.style.boxShadow="0 0 15px rgba(96,96,96,0.5)",n.style.MozBoxShadow="0 0 15px rgba(96,96,96,0.5)",n.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",n.__canvas__=t,n.__object__=u,n.id="__rgraph_image_div__",document.body.appendChild(n),n.innerHTML+='<div style="position: absolute; margin-left: 10px; top: '+t.height+"px; width: "+(t.width-50)+'px; height: 25px"><span style="font-size: 12pt;display: inline; display: inline-block; width: 65px; text-align: right">URL:<\/span><textarea style="float: right; overflow: hidden; height: 20px; width: '+(t.width-u.gutterLeft-u.gutterRight-80)+'px" onclick="this.select()" readonly="readonly" id="__rgraph_dataurl__">'+t.toDataURL()+"<\/textarea><\/div>",n.innerHTML+='<div style="position: absolute; top: '+(t.height+25)+"px; left: "+(u.gutterLeft-65+t.width/2)+"px; width: "+(t.width-u.gutterRight)+'px; font-size: 65%">A link using the URL: <a href="'+t.toDataURL()+'">View<\/a><\/div>',r=document.createElement("IMG"),RGraph.Registry.Set("chart.png",r),r.__canvas__=t,r.__object__=u,r.id="__rgraph_image_img__",r.className="RGraph_png",r.src=t.toDataURL(),n.appendChild(r),setTimeout(function(){document.getElementById("__rgraph_dataurl__").select()},50),window.addEventListener("resize",function(){var n=RGraph.Registry.Get("chart.png");n.style.left=document.body.clientWidth/2-n.width/2+"px"},!1),i.onclick=function(){var n=document.getElementById("__rgraph_image_div__"),t=document.getElementById("__rgraph_image_bg__");n&&(n.style.opacity=0,n.parentNode.removeChild(n),n.id="",n.style.display="none",n=null),t&&(t.style.opacity=0,t.id="",t.style.display="none",t=null)},window.addEventListener("resize",function(n){i.onclick(n)},!1),__rgraph_image_bg__=i,__rgraph_image_div__=n,setTimeout("__rgraph_image_div__.style.opacity = 0.2",50),setTimeout("__rgraph_image_div__.style.opacity = 0.4",100),setTimeout("__rgraph_image_div__.style.opacity = 0.6",150),setTimeout("__rgraph_image_div__.style.opacity = 0.8",200),setTimeout("__rgraph_image_div__.style.opacity = 1",250),setTimeout("__rgraph_image_bg__.style.opacity = 0.1",50),setTimeout("__rgraph_image_bg__.style.opacity = 0.2",100),setTimeout("__rgraph_image_bg__.style.opacity = 0.3",150),setTimeout("__rgraph_image_bg__.style.opacity = 0.4",200),setTimeout("__rgraph_image_bg__.style.opacity = 0.5",250),r.onclick=function(n){n.stopPropagation?n.stopPropagation():f.cancelBubble=!0},f&&f.stopPropagation&&f.stopPropagation()}