typeof RGraph=="undefined"&&(RGraph={}),RGraph.Scatter=function(n){var i,t;if(this.id=n,this.canvas=document.getElementById(n),this.canvas.__object__=this,this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.max=0,this.coords=[],this.data=[],this.type="scatter",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],RGraph.OldBrowserCompat(this.context),this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":!0,"chart.background.grid.width":1,"chart.background.grid.color":"#ddd","chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.hbars":null,"chart.background.vbars":null,"chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.tooltips":[],"chart.tooltips.effect":"fade","chart.tooltips.event":"onmousemove","chart.tooltips.hotspot":3,"chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.units.pre":"","chart.units.post":"","chart.numyticks":10,"chart.tickmarks":"cross","chart.ticksize":5,"chart.numxticks":!0,"chart.xaxis":!0,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.xmin":0,"chart.xmax":0,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":[],"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.labels.above.decimals":0,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.invert":!1,"chart.ylabels.specific":null,"chart.ylabels.inside":!1,"chart.contextmenu":null,"chart.defaultcolor":"black","chart.xaxispos":"bottom","chart.yaxispos":"left","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.linewidth":1,"chart.crosshairs.coords":!1,"chart.crosshairs.coords.fixed":!0,"chart.crosshairs.coords.fadeout":!1,"chart.crosshairs.coords.labels.x":"X","chart.crosshairs.coords.labels.y":"Y","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.line":!1,"chart.line.linewidth":1,"chart.line.colors":["green","red"],"chart.line.shadow.color":"rgba(0,0,0,0)","chart.line.shadow.blur":2,"chart.line.shadow.offsetx":3,"chart.line.shadow.offsety":3,"chart.line.stepped":!1,"chart.line.visible":!0,"chart.noaxes":!1,"chart.noyaxis":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!0,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.boxplot.width":1,"chart.boxplot.capped":!0,"chart.resizable":!1,"chart.resize.handle.background":null,"chart.xmin":0,"chart.labels.specific.align":"left","chart.xscale":!1,"chart.xscale.units.pre":"","chart.xscale.units.post":"","chart.xscale.numlabels":10,"chart.xscale.formatter":null,"chart.xscale.decimals":0,"chart.xscale.thousand":",","chart.xscale.point":".","chart.noendxtick":!1,"chart.noendytick":!0,"chart.events.mousemove":null,"chart.events.click":null,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)"},arguments[1][0]&&arguments[1][0][0]&&typeof arguments[1][0][0]=="object")for(t=0;t<arguments[1].length;++t)this.data[t]=arguments[1][t];else for(t=1;t<arguments.length;++t)this.data[t-1]=arguments[t];for(t=0;t<this.data.length;++t)for(i=0;i<this.data[t].length;++i)typeof this.data[t][i][0]=="string"&&(this.data[t][i][0]=Date.parse(this.data[t][i][0]));for(this.data_arr=[],t=0;t<this.data.length;++t)for(i=0;i<this.data[t].length;++i)this.data_arr.push(this.data[t][i]);for(t=0;t<this.data_arr.length;++t)this["$"+t]={};if(!this.canvas){alert("[SCATTER] No canvas support");return}this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),RGraph.Register(this)},RGraph.Scatter.prototype.Set=function(n,t){return n.substr(0,6)!="chart."&&(n="chart."+n),n=="chart.xticks"&&n=="chart.numxticks",n=="chart.line.colors"&&(this.properties["chart.colors"]=t),n=="chart.tooltip.hotspot"&&(n="chart.tooltips.hotspot"),n=="chart.yaxispos"&&t!="left"&&t!="right"&&(alert("[SCATTER] chart.yaxispos should be left or right. You've set it to: '"+t+"' Changing it to left"),t="left"),n=="chart.xaxispos"&&t!="bottom"&&t!="center"&&(alert("[SCATTER] ("+this.id+") chart.xaxispos should be center or bottom. Tried to set it to: "+t+" Changing it to center"),t="center"),this.properties[n.toLowerCase()]=t,this},RGraph.Scatter.prototype.Get=function(n){return n.substr(0,6)!="chart."&&(n="chart."+n),this.properties[n]},RGraph.Scatter.prototype.Draw=function(){var f=this.canvas,e=this.context,t=this.properties,r,u,i,n;if(typeof this.Get("chart.background.image")=="string"&&RGraph.DrawBackgroundImage(this),RGraph.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=t["chart.gutter.left"],this.gutterRight=t["chart.gutter.right"],this.gutterTop=t["chart.gutter.top"],this.gutterBottom=t["chart.gutter.bottom"],this.hasTooltips=!1,r=!1,this.coords=[],typeof this.properties["chart.xmin"]=="string"&&(this.properties["chart.xmin"]=Date.parse(this.properties["chart.xmin"])),typeof this.properties["chart.xmax"]=="string"&&(this.properties["chart.xmax"]=Date.parse(this.properties["chart.xmax"])),!RGraph.isOld())for(this.Set("chart.tooltips",[]),n=0;n<this.data.length;++n)for(i=0;i<this.data[n].length;++i)this.data[n][i]&&this.data[n][i][3]?(this.Get("chart.tooltips").push(this.data[n][i][3]),this.hasTooltips=!0):this.Get("chart.tooltips").push(null);if(this.max=0,typeof this.Get("chart.ymax")=="number")this.max=this.Get("chart.ymax"),this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0,this.scale2=RGraph.getScale2(this,{max:this.max,min:this.min,strict:!0,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min,u=this.Get("chart.scale.decimals");else{for(n=0,i=0,n=0;n<this.data.length;++n)for(i=0;i<this.data[n].length;++i)this.data[n][i][1]!=null&&(this.max=Math.max(this.max,typeof this.data[n][i][1]=="object"?RGraph.array_max(this.data[n][i][1]):Math.abs(this.data[n][i][1])));this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0,this.scale2=RGraph.getScale2(this,{max:this.max,min:this.min,"scale.thousand":t["chart.scale.thousand"],"scale.point":t["chart.scale.point"],"scale.decimals":t["chart.scale.decimals"],"ylabels.count":t["chart.ylabels.count"],"scale.round":t["chart.scale.round"],"units.pre":t["chart.units.pre"],"units.post":t["chart.units.post"]}),this.max=this.scale2.max,this.min=this.scale2.min}for(this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom,RGraph.background.Draw(this),this.Get("chart.background.hbars")&&this.Get("chart.background.hbars").length&&RGraph.DrawBars(this),this.Get("chart.background.vbars")&&this.Get("chart.background.vbars").length&&this.DrawVBars(),this.Get("chart.noaxes")||this.DrawAxes(),this.DrawLabels(),n=0,n=0;n<this.data.length;++n)this.DrawMarks(n),this.context.shadowColor=this.Get("chart.line.shadow.color"),this.context.shadowOffsetX=this.Get("chart.line.shadow.offsetx"),this.context.shadowOffsetY=this.Get("chart.line.shadow.offsety"),this.context.shadowBlur=this.Get("chart.line.shadow.blur"),this.DrawLine(n),RGraph.NoShadow(this);if(this.Get("chart.line"))for(n=0;n<this.data.length;++n)this.DrawMarks(n);return this.Get("chart.contextmenu")&&RGraph.ShowContext(this),this.Get("chart.key")&&this.Get("chart.key").length&&RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.line.colors")),this.Get("chart.labels.above")&&this.DrawAboveLabels(),this.DrawInGraphLabels(this),this.Get("chart.resizable")&&RGraph.AllowResizing(this),RGraph.InstallEventListeners(this),RGraph.FireCustomEvent(this,"ondraw"),this},RGraph.Scatter.prototype.DrawAxes=function(){var f=this.canvas,n=this.context,e=this.canvas.height-this.gutterTop-this.gutterBottom,u,r,t;if(n.beginPath(),n.strokeStyle=this.Get("chart.axis.color"),n.lineWidth=(this.properties["chart.axis.linewidth"]||1)+.001,this.properties["chart.noyaxis"]==!1&&(this.Get("chart.yaxispos")=="left"?(n.moveTo(this.gutterLeft,this.gutterTop),n.lineTo(this.gutterLeft,this.canvas.height-this.gutterBottom)):(n.moveTo(this.canvas.width-this.gutterRight,this.gutterTop),n.lineTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom))),this.Get("chart.xaxis")&&(this.Get("chart.xaxispos")=="center"?(n.moveTo(this.gutterLeft,Math.round(this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)/2)),n.lineTo(this.canvas.width-this.gutterRight,Math.round(this.gutterTop+(this.canvas.height-this.gutterTop-this.gutterBottom)/2))):(n.moveTo(this.gutterLeft,this.canvas.height-this.gutterBottom),n.lineTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom))),this.properties["chart.noyaxis"]==!1){for(u=this.Get("chart.numyticks"),i=0;i<u;++i)(t=(this.canvas.height-this.gutterTop-this.gutterBottom)/u*i,t=t+this.gutterTop,this.Get("chart.xaxispos")!="center"||i!=u/2)&&(this.Get("chart.yaxispos")=="left"?(n.moveTo(this.gutterLeft,Math.round(t)),n.lineTo(this.gutterLeft-3,Math.round(t))):(n.moveTo(this.canvas.width-this.gutterRight+3,Math.round(t)),n.lineTo(this.canvas.width-this.gutterRight,Math.round(t))));this.properties["chart.numyticks"]>0&&(this.Get("chart.xaxispos")=="center"&&this.Get("chart.yaxispos")=="left"?(n.moveTo(this.gutterLeft,Math.round(this.canvas.height-this.gutterBottom)),n.lineTo(this.gutterLeft-3,Math.round(this.canvas.height-this.gutterBottom))):this.Get("chart.xaxispos")=="center"&&(n.moveTo(this.canvas.width-this.gutterRight+3,Math.round(this.canvas.height-this.gutterBottom)),n.lineTo(this.canvas.width-this.gutterRight,Math.round(this.canvas.height-this.gutterBottom)))),this.Get("chart.xaxis")==!1&&this.Get("chart.yaxispos")=="left"?(this.context.moveTo(this.gutterLeft,Math.round(this.canvas.height-this.gutterBottom)),this.context.lineTo(this.gutterLeft-3,Math.round(this.canvas.height-this.gutterBottom))):this.Get("chart.xaxis")==!1&&this.Get("chart.yaxispos")=="right"&&(this.context.moveTo(this.canvas.width-this.gutterRight,Math.round(this.canvas.height-this.gutterBottom)),this.context.lineTo(this.canvas.width-this.gutterRight+3,Math.round(this.canvas.height-this.gutterBottom)))}if(this.Get("chart.numxticks")>0&&this.Get("chart.xaxis"))for(r=0,t=this.Get("chart.xaxispos")=="center"?this.gutterTop+this.grapharea/2:this.canvas.height-this.gutterBottom,this.xTickGap=this.Get("chart.labels")&&this.Get("chart.labels").length?(this.canvas.width-this.gutterLeft-this.gutterRight)/this.Get("chart.labels").length:(this.canvas.width-this.gutterLeft-this.gutterRight)/10,typeof this.properties["chart.numxticks"]=="number"&&(this.xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.properties["chart.numxticks"]),r=this.gutterLeft+(this.Get("chart.yaxispos")=="left"&&this.properties["chart.noyaxis"]==!1?this.xTickGap:0);r<=this.canvas.width-this.gutterRight-(this.Get("chart.yaxispos")=="left"||this.properties["chart.noyaxis"]==!0?-1:1);r+=this.xTickGap){if(this.Get("chart.yaxispos")=="left"&&this.Get("chart.noendxtick")==!0&&r==this.canvas.width-this.gutterRight)continue;else if(this.Get("chart.yaxispos")=="right"&&this.Get("chart.noendxtick")==!0&&r==this.gutterLeft)continue;n.moveTo(Math.round(r),t-(this.Get("chart.xaxispos")=="center"?3:0)),n.lineTo(Math.round(r),t+3)}n.stroke(),this.context.lineWidth=1},RGraph.Scatter.prototype.DrawLabels=function(){var k=this.canvas,et=this.context,o=this.properties,it,i,r,t,s,p,st,w,v,y,n,ht,ct,lt,ft,tt;et.fillStyle=o["chart.text.color"];var u=o["chart.text.font"],d=o["chart.xmin"],dt=o["chart.xmax"],gt=this.scale2.max,g=o["chart.ymin"]?o["chart.ymin"]:0,f=o["chart.text.size"],l=o["chart.units.pre"],a=o["chart.units.post"],h=o["chart.ylabels.count"],c=o["chart.ylabels.invert"],ot=o["chart.ylabels.inside"],ni=et,ti=k,e=!1;if(this.halfTextHeight=f/2,this.halfGraphHeight=(k.height-this.gutterTop-this.gutterBottom)/2,this.Get("chart.ylabels"))if(i=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:k.width-this.gutterRight+5,r=this.Get("chart.yaxispos")=="right"?"left":"right",ot&&(this.Get("chart.yaxispos")=="left"?(i=this.Get("chart.gutter.left")+5,r="left",e=!0):(i=this.canvas.width-this.Get("chart.gutter.right")-5,r="right",e=!0)),this.Get("chart.xaxispos")=="center"){if(typeof this.Get("chart.ylabels.specific")=="object"&&this.Get("chart.ylabels.specific")!=null&&this.Get("chart.ylabels.specific").length){if(t=this.Get("chart.ylabels.specific"),this.Get("chart.ymin")>0)for(t=[],n=0;n<this.Get("chart.ylabels.specific").length-1;++n)t.push(this.Get("chart.ylabels.specific")[n]);for(n=0;n<t.length;++n)s=this.gutterTop+n*(this.grapharea/(t.length*2)),RGraph.Text2(this,{font:u,size:f,x:i,y:s,text:t[n],valign:"center",halign:r,bounding:e,tag:"labels.specific"});for(it=RGraph.array_reverse(t),n=0;n<it.length;++n)s=this.gutterTop+this.grapharea/2+(n+1)*(this.grapharea/(t.length*2)),RGraph.Text2(this,{font:u,size:f,x:i,y:s,text:it[n],valign:"center",halign:r,bounding:e,tag:"labels.specific"});this.Get("chart.ymin")!=0&&RGraph.Text2(this,{font:u,size:f,x:i,y:this.grapharea/2+this.Get("chart.gutter.top"),text:this.Get("chart.ylabels.specific")[this.Get("chart.ylabels.specific").length-1],valign:"center",halign:r,bounding:e,tag:"labels.specific"})}if(!this.Get("chart.ylabels.specific")&&typeof h=="number"){for(n=0;n<this.scale2.labels.length;++n)c?RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight-n/h*this.halfGraphHeight,valign:"center",halign:r,bounding:e,boundingFill:"white",text:this.scale2.labels[this.scale2.labels.length-(n+1)],tag:"scale"}):RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight-(n+1)/h*this.halfGraphHeight,valign:"center",halign:r,bounding:e,boundingFill:"white",text:this.scale2.labels[n],tag:"scale"});for(n=0;n<this.scale2.labels.length;++n)if(c){if(n==this.scale2.labels.length-1&&c)continue;RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight+this.halfGraphHeight-(n+1)/h*this.halfGraphHeight,valign:"center",halign:r,bounding:e,boundingFill:"white",text:"-"+this.scale2.labels[n],tag:"scale"})}else RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight+this.halfGraphHeight-n/h*this.halfGraphHeight,valign:"center",halign:r,bounding:e,boundingFill:"white",text:"-"+this.scale2.labels[this.scale2.labels.length-(n+1)],tag:"scale"});!c&&g>0&&RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,g.toFixed(this.properties["chart.scale.decimals"]),l,a),tag:"scale"}),c&&(RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,g.toFixed(this.properties["chart.scale.decimals"]),l,a),tag:"scale"}),RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.halfGraphHeight*2,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,g.toFixed(this.properties["chart.scale.decimals"]),l,a),tag:"scale"}))}}else if(i=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5,r=this.Get("chart.yaxispos")=="right"?"left":"right",ot&&(this.Get("chart.yaxispos")=="left"?(i=this.Get("chart.gutter.left")+5,r="left",e=!0):(i=this.canvas.width-this.Get("chart.gutter.right")-5,r="right",e=!0)),typeof this.Get("chart.ylabels.specific")=="object"&&this.Get("chart.ylabels.specific")){if(t=this.Get("chart.ylabels.specific"),this.Get("chart.ymin")>9999)for(t=[],n=0;n<this.Get("chart.ylabels.specific").length-1;++n)t.push(this.Get("chart.ylabels.specific")[n]);for(n=0;n<t.length;++n)s=this.gutterTop+n*(this.grapharea/(t.length-1)),RGraph.Text2(this,{font:u,size:f,x:i,y:s,text:t[n],halign:r,valign:"center",bounding:e,tag:"scale"})}else{if(typeof h=="number")if(c){for(n=0;n<h;++n)y=(this.canvas.height-this.gutterTop-this.gutterBottom)/h,RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+(n+1)*y,valign:"center",halign:r,bounding:e,boundingFill:"white",text:this.scale2.labels[n],tag:"scale"});this.Get("chart.xaxis")||this.properties["chart.ymin"]||RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,this.min.toFixed(this.properties["chart.scale.decimals"]),l,a),tag:"scale"})}else{for(n=0;n<this.scale2.labels.length;++n)RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop+this.grapharea-(n+1)/this.scale2.labels.length*this.grapharea,valign:"center",halign:r,bounding:e,boundingFill:"white",text:this.scale2.labels[n],tag:"scale"});this.Get("chart.xaxis")||this.Get("chart.ymin")!=0||RGraph.Text2(this,{font:u,size:f,x:i,y:this.canvas.height-this.gutterBottom,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,0..toFixed(this.properties["chart.scale.decimals"]),l,a),tag:"scale"})}this.Get("chart.ymin")&&!c?RGraph.Text2(this,{font:u,size:f,x:i,y:this.canvas.height-this.gutterBottom,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,this.Get("chart.ymin").toFixed(this.Get("chart.scale.decimals")),l,a),tag:"scale"}):c&&RGraph.Text2(this,{font:u,size:f,x:i,y:this.gutterTop,valign:"center",halign:r,bounding:e,boundingFill:"white",text:RGraph.number_format(this,o["chart.ymin"].toFixed(this.Get("chart.scale.decimals")),l,a),tag:"scale"})}if(this.Get("chart.xscale")){var yt=this.Get("chart.xscale.numlabels"),s=this.canvas.height-this.gutterBottom+5+f/2,pt=this.Get("chart.xscale.units.pre"),wt=this.Get("chart.xscale.units.post"),bt=o["chart.xscale.decimals"],v=o["chart.xscale.point"],kt=o["chart.xscale.thousand"];if(this.Get("chart.xmax"))p=o["chart.xmax"];else for(p=0,st=o["chart.xmin"],w=0;w<this.data.length;++w)for(v=0;v<this.data[w].length;++v)p=Math.max(p,this.data[w][v][0]);for(this.xscale2=RGraph.getScale2(this,{max:p,"scale.decimals":bt,"scale.point":v,"scale.thousand":kt,"units.pre":pt,"units.post":wt}),this.Set("chart.xmax",this.xscale2.max),y=(k.width-this.gutterLeft-this.gutterRight)/this.xscale2.labels.length,n=0;n<this.xscale2.labels.length;++n)ht=(this.Get("chart.xmax")-this.Get("chart.xmin"))*((n+1)/yt)+st,ct=this.gutterLeft+(n+1)*y,lt=typeof this.Get("chart.xscale.formatter")=="function"?o["chart.xscale.formatter"](this,ht):this.xscale2.labels[n],RGraph.Text2(this,{font:u,size:f,x:ct,y:s,valign:"center",halign:"center",text:this.xscale2.labels[n],tag:"xscale"});this.Get("chart.yaxispos")=="right"&&RGraph.Text2(this,{font:u,size:f,x:this.gutterLeft,y:s,valign:"center",halign:"center",text:String(this.Get("chart.xmin")),tag:"xscale"})}else{var b=this.canvas.width-this.gutterLeft-this.gutterRight,at=b/this.Get("chart.labels").length,i=this.gutterLeft,rt=this.canvas.height-this.gutterBottom+3,t=this.Get("chart.labels"),nt=0,ut="top",vt="center";for(this.Get("chart.text.angle")>0&&(nt=-1*this.Get("chart.text.angle"),ut="center",vt="right",rt+=10),n=0;n<t.length;++n)typeof t[n]=="object"?(this.Get("chart.labels.specific.align")=="center"?(ft=0,ft=t[n+1]&&t[n+1][1]?t[n+1][1]:this.Get("chart.xmax"),tt=(this.getXCoord(ft)-this.getXCoord(t[n][1]))/2):tt=5,RGraph.Text2(this,{font:u,size:this.Get("chart.text.size"),x:this.getXCoord(t[n][1])+tt,y:rt,valign:ut,halign:nt!=0?"right":this.Get("chart.labels.specific.align")=="center"?"center":"left",text:String(t[n][0]),angle:nt,marker:!1,tag:"labels.specific"}),this.context.beginPath(),this.context.strokeStyle="#bbb",this.context.moveTo(Math.round(this.gutterLeft+b*((t[n][1]-d)/(this.Get("chart.xmax")-d))),RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(Math.round(this.gutterLeft+b*((t[n][1]-d)/(this.Get("chart.xmax")-d))),RGraph.GetHeight(this)-this.gutterBottom+20),this.context.stroke()):RGraph.Text2(this,{font:u,size:this.Get("chart.text.size"),x:i+at/2,y:rt,valign:ut,halign:vt,text:String(t[n]),angle:nt,tag:"labels"}),i+=at;typeof t[0]=="object"&&(this.context.beginPath(),this.context.strokeStyle="#bbb",this.context.moveTo(this.gutterLeft+b,RGraph.GetHeight(this)-this.gutterBottom),this.context.lineTo(this.gutterLeft+b,RGraph.GetHeight(this)-this.gutterBottom+20),this.context.stroke())}},RGraph.Scatter.prototype.DrawMarks=function(n){var r,u,t;for(this.coords[n]=[],r=this.Get("chart.xmax"),u=this.Get("chart.defaultcolor"),t=0;t<this.data[n].length;++t){var i=this.data[n],f=i[t][0],e=i[t][1],o=i[t][2]?i[t][2]:u,s=i[t]&&i[t][3]?i[t][3]:null;this.DrawMark(n,f,e,r,this.scale2.max,o,s,this.coords[n],i,t)}},RGraph.Scatter.prototype.DrawMark=function(n,t,i,r,u,f,e,o,s,h){var a=this.properties["chart.tickmarks"],y=this.properties["chart.ticksize"],nt=this.properties["chart.xmin"],t=(t-nt)/(r-nt)*(this.canvas.width-this.gutterLeft-this.gutterRight),ot=t,st=i,c,l,v;if(a&&typeof a=="object"&&(a=a[n]),typeof y=="object"?(y=y[n],c=y/2):c=y/2,i&&typeof i=="object"&&typeof i[0]=="number"&&typeof i[1]=="number"&&typeof i[2]=="number"&&typeof i[3]=="number"&&typeof i[4]=="number"){this.Set("chart.boxplot",!0);var w=this.getYCoord(i[0]),p=this.getYCoord(i[1]),b=this.getYCoord(i[2]),k=this.getYCoord(i[3]),d=this.getYCoord(i[4]),tt=i[5],it=i[6],g=typeof i[7]=="number"?i[7]:this.Get("chart.boxplot.width")}else l=this.getYCoord(i);if(t+=this.gutterLeft,this.context.beginPath(),this.context.strokeStyle=f,this.Get("chart.boxplot")&&(g=g/this.Get("chart.xmax")*(this.canvas.width-this.gutterLeft-this.gutterRight),v=g/2,this.properties["chart.line.visible"]&&(this.context.beginPath(),this.context.strokeRect(t-v,p,g,k-p),tt&&(this.context.fillStyle=tt,this.context.fillRect(t-v,p,g,b-p)),it&&(this.context.fillStyle=it,this.context.fillRect(t-v,b,g,k-b)),this.context.stroke(),this.context.beginPath(),this.Get("chart.boxplot.capped")&&(this.context.moveTo(t-v,Math.round(w)),this.context.lineTo(t+v,Math.round(w))),this.context.moveTo(Math.round(t),w),this.context.lineTo(Math.round(t),p),this.Get("chart.boxplot.capped")&&(this.context.moveTo(t-v,Math.round(d)),this.context.lineTo(t+v,Math.round(d))),this.context.moveTo(Math.round(t),d),this.context.lineTo(Math.round(t),k),this.context.stroke())),this.properties["chart.line.visible"]&&typeof i=="number"&&!w&&!p&&!b&&!k&&!d)if(a=="circle")this.context.arc(t,l,c,0,6.28,0),this.context.fillStyle=f,this.context.fill();else if(a=="plus")this.context.moveTo(t,l-c),this.context.lineTo(t,l+c),this.context.moveTo(t-c,l),this.context.lineTo(t+c,l),this.context.stroke();else if(a=="square")this.context.strokeStyle=f,this.context.fillStyle=f,this.context.fillRect(t-c,l-c,y,y);else if(a=="cross")this.context.moveTo(t-c,l-c),this.context.lineTo(t+c,l+c),this.context.moveTo(t+c,l-c),this.context.lineTo(t-c,l+c),this.context.stroke();else if(a=="diamond")this.context.fillStyle=this.context.strokeStyle,this.context.moveTo(t,l-c),this.context.lineTo(t+c,l),this.context.lineTo(t,l+c),this.context.lineTo(t-c,l),this.context.lineTo(t,l-c),this.context.fill(),this.context.stroke();else if(typeof a=="function"){var ut=this.canvas.width-this.gutterLeft-this.gutterRight,rt=this.canvas.height-this.gutterTop-this.gutterBottom,ft=(t-this.gutterLeft)/ut*r,et=(rt-(l-this.gutterTop))/rt*u;a(this,s,t,l,ft,et,r,u,f,n,h)}else a==null||alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+a);this.Get("chart.boxplot")&&typeof w=="number"&&typeof p=="number"&&typeof b=="number"&&typeof k=="number"&&typeof d=="number"&&(t=[t-v,t+v],l=[w,p,b,k,d]),o.push([t,l,e])},RGraph.Scatter.prototype.DrawLine=function(n){var t,u,r,i;if(typeof this.Get("chart.line.visible")!="boolean"||this.Get("chart.line.visible")!=!1){if(this.Get("chart.line")&&this.coords[n].length>=2){this.context.lineCap="round",this.context.lineJoin="round",this.context.lineWidth=this.GetLineWidth(n),this.context.strokeStyle=this.Get("chart.line.colors")[n],this.context.beginPath();var o=this.coords[n].length,f=null,e=null;for(t=0;t<this.coords[n].length;++t)u=this.coords[n][t][0],r=this.coords[n][t][1],t>0&&(f=this.coords[n][t-1][1]),e=r,t==0||RGraph.is_null(f)||RGraph.is_null(e)?this.context.moveTo(u,r):(i=this.Get("chart.line.stepped"),(typeof i=="boolean"&&i||typeof i=="object"&&i[n])&&this.context.lineTo(this.coords[n][t][0],this.coords[n][t-1][1]),this.context.lineTo(u,r));this.context.stroke()}this.context.lineWidth=1}},RGraph.Scatter.prototype.GetLineWidth=function(n){var t=this.Get("chart.line.linewidth");return typeof t=="number"?t:typeof t=="object"?t[n]?t[n]:t[0]:void 0},RGraph.Scatter.prototype.DrawVBars=function(){var o=this.canvas,i=this.context,t=this.Get("chart.background.vbars"),u=RGraph.GetWidth(this)-this.gutterLeft-this.gutterRight,r,n,f,e;if(t)for(r=this.Get("chart.xmax"),n=0;n<t.length;++n)f=t[n][0]/r*u+this.gutterLeft,e=t[n][1]/r*u,i.beginPath(),i.fillStyle=t[n][2],i.fillRect(f,this.gutterTop,e,RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom),i.fill()},RGraph.Scatter.prototype.DrawInGraphLabels=function(n){var v=n.canvas,r=n.context,u=n.Get("chart.labels.ingraph"),i=[],h,t,f,s;if(u){for(t=0;t<u.length;++t)if(typeof u[t]=="number")for(h=0;h<u[t];++h)i.push(null);else typeof u[t]=="string"||typeof u[t]=="object"?i.push(u[t]):i.push("");if(RGraph.NoShadow(n),i&&i.length>0)for(t=0,f=0;f<n.coords.length;++f)for(s=0;s<n.coords[f].length;++s){if(i[t]){var e=n.coords[f][s][0],o=n.coords[f][s][1],c=typeof i[t][4]=="number"?i[t][4]:25,l=e,a=o-5-c;r.moveTo(e,o-5),r.lineTo(e,o-5-c),r.stroke(),r.beginPath(),r.moveTo(e,o-5),r.lineTo(e-3,o-10),r.lineTo(e+3,o-10),r.closePath(),r.beginPath(),r.fillStyle=typeof i[t]=="object"&&typeof i[t][1]=="string"?i[t][1]:"black",RGraph.Text2(this,{font:n.Get("chart.text.font"),size:n.Get("chart.text.size"),x:l,y:a,text:typeof i[t]=="object"&&typeof i[t][0]=="string"?i[t][0]:i[t],valign:"bottom",halign:"center",bounding:!0,boundingFill:typeof i[t]=="object"&&typeof i[t][2]=="string"?i[t][2]:"white",tag:"labels.ingraph"}),r.fill()}t++}}},RGraph.Scatter.prototype.getShape=RGraph.Scatter.prototype.getPoint=function(n){for(var y=n.target,p=this.context,a=RGraph.getMouseXY(n),e=a[0],o=a[1],s=this.Get("chart.tooltips.hotspot"),i,c,h,l,v,f,t=0;t<this.coords.length;++t)for(i=0;i<this.coords[t].length;++i){var u=this.coords[t][i][0],r=this.coords[t][i][1],f=this.data[t][i][3];if(typeof r=="number"){if(e<=u+s&&e>=u-s&&o<=r+s&&o>=r-s){for(f=RGraph.parseTooltipText(this.data[t][i][3],0),c=i,h=t-1;h>=0;--h)c+=this.data[h].length;return{0:this,1:u,2:r,3:t,4:i,5:this.data[t][i][3],object:this,x:u,y:r,dataset:t,index:i,tooltip:f,index_adjusted:c}}}else if(!RGraph.is_null(r)&&(l=this.data[t][i],v=this.Get("chart.boxplot.width"),typeof l[1][7]=="number"&&(v=l[1][7]),typeof u=="object"&&e>u[0]&&e<u[1]&&o<r[1]&&o>r[3]))return f=RGraph.parseTooltipText(this.data[t][i][3],0),{0:this,1:u[0],2:u[1]-u[0],3:r[1],4:r[3]-r[1],5:t,6:i,7:this.data[t][i][3],object:this,x:u[0],y:r[1],width:u[1]-u[0],height:r[3]-r[1],dataset:t,index:i,tooltip:f}}},RGraph.Scatter.prototype.DrawAboveLabels=function(){for(var c=this.context,f=this.Get("chart.labels.above.size"),h=this.Get("chart.text.font"),l=this.Get("chart.units.pre"),a=this.Get("chart.units.post"),t,e,i,r,u,o,s,n=0;n<this.coords.length;++n)for(t=0;t<this.coords[n].length;++t)if(e=this.data[n][t][0],i=this.data[n][t][1],!RGraph.is_null(i)){if(RGraph.is_array(i)){for(r=0,u=0;u<i;++u)r=Math.max(r,i[u]);i=r}o=this.coords[n][t][0],s=this.coords[n][t][1],RGraph.Text2(this,{font:h,size:f,x:o,y:s-5-f,text:e.toFixed(this.Get("chart.labels.above.decimals"))+", "+i.toFixed(this.Get("chart.labels.above.decimals")),valign:"center",halign:"center",bounding:!0,boundingFill:"rgba(255, 255, 255, 0.7)",tag:"labels.above"})}},RGraph.Scatter.prototype.getYValue=RGraph.Scatter.prototype.getValue=function(n){var u,r,t,i;if(n.length==2)u=n[0],r=n[1];else var f=RGraph.getMouseXY(n),u=f[0],r=f[1];return(t=this,r<t.Get("chart.gutter.top")||r>t.canvas.height-t.Get("chart.gutter.bottom")||u<t.Get("chart.gutter.left")||u>t.canvas.width-t.Get("chart.gutter.right"))?null:(t.Get("chart.xaxispos")=="center"?(i=(t.grapharea/2-(r-t.Get("chart.gutter.top")))/t.grapharea*(t.max-t.min),i*=2,i>=0?i+=t.min:i-=t.min):i=(t.grapharea-(r-t.Get("chart.gutter.top")))/t.grapharea*(t.max-t.min)+t.min,i)},RGraph.Scatter.prototype.getXValue=function(n){var i,r,t,f,e;if(n.length==2)i=n[0],r=n[1];else var u=RGraph.getMouseXY(n),i=u[0],r=u[1];return(t=this,r<t.Get("chart.gutter.top")||r>t.canvas.height-t.Get("chart.gutter.bottom")||i<t.Get("chart.gutter.left")||i>t.canvas.width-t.Get("chart.gutter.right"))?null:(f=t.canvas.width-t.gutterLeft-t.gutterRight,e=(i-t.gutterLeft)/f*(t.Get("chart.xmax")-t.Get("chart.xmin")),e+t.Get("chart.xmin"))},RGraph.Scatter.prototype.Highlight=function(n){n.height?RGraph.Highlight.Rect(this,n):RGraph.Highlight.Point(this,n)},RGraph.Scatter.prototype.getObjectByXY=function(n){var t=RGraph.getMouseXY(n);if(t[0]>this.Get("chart.gutter.left")-3&&t[0]<this.canvas.width-this.Get("chart.gutter.right")+3&&t[1]>this.Get("chart.gutter.top")-3&&t[1]<this.canvas.height-this.Get("chart.gutter.bottom")+3)return this},RGraph.Scatter.prototype.getXCoord=function(n){var i,r,t,u,f;return typeof n!="number"?null:(i=this.Get("chart.xmin"),r=this.Get("chart.xmax"),n<i)?null:n>r?null:(u=this.Get("chart.gutter.right"),f=this.Get("chart.gutter.left"),this.Get("chart.yaxispos")=="right"?(t=(n-i)/(r-i)*(this.canvas.width-f-u),t=this.canvas.width-u-t):(t=(n-i)/(r-i)*(this.canvas.width-f-u),t=t+f),t)},RGraph.Scatter.prototype.positionTooltip=function(n,t,i,r){var l=RGraph.Registry.Get("chart.tooltip.shape"),a=l.dataset,v=l.index,u=n.coords[a][v][0],s=n.coords[a][v][1],f=RGraph.getCanvasXY(n.canvas),y=n.Get("chart.gutter.left"),p=n.Get("chart.gutter.top"),e=r.offsetWidth,h=r.offsetHeight,c,o;r.style.left=0,r.style.top=0,c=typeof s=="object"?!0:!1,r.style.overflow="",o=new Image,o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",o.style.position="absolute",o.id="__rgraph_tooltip_pointer__",o.style.top=r.offsetHeight-2+"px",r.appendChild(o),f[0]+(u[0]||u)-e/2<10?c?(r.style.left=f[0]+u[0]+(u[1]-u[0])/2-e*.1+"px",r.style.top=f[1]+s[2]-h-5+"px",o.style.left=e*.1-8.5+"px"):(r.style.left=f[0]+u-e*.1+"px",r.style.top=f[1]+s-h-9+"px",o.style.left=e*.1-8.5+"px"):f[0]+(u[0]||u)+e/2>document.body.offsetWidth?c?(r.style.left=f[0]+u[0]+(u[1]-u[0])/2-e*.9+"px",r.style.top=f[1]+s[2]-h-5+"px",o.style.left=e*.9-8.5+"px"):(r.style.left=f[0]+u-e*.9+"px",r.style.top=f[1]+s-h-9+"px",o.style.left=e*.9-8.5+"px"):c?(r.style.left=f[0]+u[0]+(u[1]-u[0])/2-e/2+"px",r.style.top=f[1]+s[2]-h-5+"px",o.style.left=e*.5-8.5+"px"):(r.style.left=f[0]+u-e*.5+"px",r.style.top=f[1]+s-h-9+"px",o.style.left=e*.5-8.5+"px")},RGraph.Scatter.prototype.getYCoord=RGraph.Scatter.prototype.getYCoordFromValue=function(n){if(typeof n!="number")return null;var o=this.canvas,e=this.Get("chart.ylabels.invert"),s=this.Get("chart.xaxispos"),r=o.height-this.gutterTop-this.gutterBottom,u=r/2,f=this.max,i=this.Get("chart.ymin"),t=0;return n>f||this.properties["chart.xaxispos"]=="bottom"&&n<i||this.properties["chart.xaxispos"]=="center"&&(n>0&&n<i||n<0&&n>-1*i)?null:(s=="center"?(t=(Math.abs(n)-i)/(f-i)*u,e&&(t=u-t),n<0?(t+=this.gutterTop,t+=u):t=u-t+this.gutterTop):(t=(n-i)/(f-i)*r,e&&(t=r-t),t=r-t,t=this.gutterTop+t),t)},RGraph.Scatter.Bubble=function(n,t,i,r,u){this.scatter=n,this.min=t,this.max=i,this.width=r,this.data=u,this.Set=function(n,t){this.scatter.Set(n,t)},this.Get=function(n){this.scatter.Get(n)}},RGraph.Scatter.Bubble.prototype.Draw=function(){var t=this.min,i=this.max,n=this.data,r=this.width;this.scatter.ondraw=function(u){for(var e,f=0;f<u.coords[0].length;++f)n[f]=Math.max(n[f],t),n[f]=Math.min(n[f],i),e=(n[f]-t)/(i-t)*r,u.context.beginPath(),u.context.fillStyle=RGraph.RadialGradient(u,u.coords[0][f][0]+5,u.coords[0][f][1]-5,0,u.coords[0][f][0]+5,u.coords[0][f][1]-5,50,"white",u.data[0][f][2]?u.data[0][f][2]:u.properties["chart.defaultcolor"]),u.context.arc(u.coords[0][f][0],u.coords[0][f][1],e,0,TWOPI,!1),u.context.fill()},this.scatter.Draw()},RGraph.Scatter.prototype.parseColors=function(){var t=this.properties,e=this.data,i,n,r,u,f;if(e)for(i=0;i<e.length;++i)for(n=0;n<this.data[i].length;++n)typeof this.data[i][n][1]=="object"&&this.data[i][n][1]&&(typeof this.data[i][n][1][5]=="string"&&(this.data[i][n][1][5]=this.parseSingleColorForGradient(this.data[i][n][1][5])),typeof this.data[i][n][1][6]=="string"&&(this.data[i][n][1][6]=this.parseSingleColorForGradient(this.data[i][n][1][6]))),this.data[i][n][2]=this.parseSingleColorForGradient(this.data[i][n][2]);if(r=t["chart.background.hbars"],r)for(n=0;n<r.length;++n)r[n][2]=this.parseSingleColorForGradient(r[n][2]);if(u=t["chart.background.vbars"],u)for(n=0;n<u.length;++n)u[n][2]=this.parseSingleColorForGradient(u[n][2]);if(f=t["chart.line.colors"],f)for(n=0;n<f.length;++n)f[n]=this.parseSingleColorForGradient(f[n]);t["chart.defaultcolor"]=this.parseSingleColorForGradient(t["chart.defaultcolor"]),t["chart.crosshairs.color"]=this.parseSingleColorForGradient(t["chart.crosshairs.color"]),t["chart.highlight.stroke"]=this.parseSingleColorForGradient(t["chart.highlight.stroke"]),t["chart.highlight.fill"]=this.parseSingleColorForGradient(t["chart.highlight.fill"]),t["chart.background.barcolor1"]=this.parseSingleColorForGradient(t["chart.background.barcolor1"]),t["chart.background.barcolor2"]=this.parseSingleColorForGradient(t["chart.background.barcolor2"]),t["chart.background.grid.color"]=this.parseSingleColorForGradient(t["chart.background.grid.color"]),t["chart.axis.color"]=this.parseSingleColorForGradient(t["chart.axis.color"])},RGraph.Scatter.prototype.parseSingleColorForGradient=function(n){var t;if(!n||typeof n!="string")return n;if(n.match(/^gradient\((.*)\)$/i)){var i=RegExp.$1.split(":"),r=this.context.createLinearGradient(0,this.canvas.height-this.properties["chart.gutter.bottom"],0,this.properties["chart.gutter.top"]),u=1/(i.length-1);for(r.addColorStop(0,RGraph.trim(i[0])),t=1;t<i.length;++t)r.addColorStop(t*u,RGraph.trim(i[t]))}return r?r:n}