{
    "display":{
        "name":"anc_saisie_anc_controle_controle_conclusion-form",
        "title":"ANC_SAISIE_ANC_CONTROLE_CONTROLE_CONCLUSION_TITLE",
        "input_size":"xxs",
        "nb_cols":12,
        "javascript":false,
        "rows":[
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_avis",
                        "label":"Avis",
                        "disabled":false,
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_avis_1_1"
                    },
                    {
                        "type":"label",
                        "name":"cl_classe_cbf",
                        "label":"Classement à l'issue du contrôle périodique",
                        "disabled":false,
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_classe_cbf_2_1"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_classe_cbf_warning",
                        "label":"EN CAS DE VENTE",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_classe_cbf_warning_2_1_2",
                        "default_value": "En cas de vente de l'immeuble, l'acquéreur doit procéder aux travaux de mise en conformitéde l'installation dans un délai de 1 an à compter de la date de signature de l'acte authentique de vente."
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_constat",
                        "label":"Constat",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_constat_2_2"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_travaux",
                        "label":"Travaux",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_travaux_2_3"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_commentaires",
                        "label":"Commantaires / Modifications à réaliser",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_commentaires_3_1"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_date_avis",
                        "label":"Date de l'avis",
                        "disabled":false,
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_date_avis_4_1"
                    },
                    {
                        "type":"label",
                        "name":"cl_auteur_avis",
                        "label":"Auteur de l'avis",
                        "disabled":false,
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_auteur_avis_5_1"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_montant",
                        "label":"Montant du controle",
                        "disabled":false,
                        "required":false,
                        "nb_cols":4,
                        "id":"cl_montant_7_1"
                    },
                    {
                        "type":"label",
                        "options":{
                            "choices":[
                                {
                                    "label":"oui",
                                    "value":true
                                },
                                {
                                    "label":"non",
                                    "value":false
                                }
                            ]
                        },
                        "name":"cl_facture",
                        "label":"A Facturer",
                        "disabled":false,
                        "required":false,
                        "nb_cols":4,
                        "id":"cl_facture_8_1"
                    },
                    {
                        "type":"label",
                        "name":"cl_facture_le",
                        "label":"Date de facturation",
                        "disabled":false,
                        "required":false,
                        "nb_cols":4,
                        "id":"cl_facture_le_9_1"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"button",
                        "class":"btn-ungroup btn-group-sm",
                        "nb_cols":12,
                        "name":"display_button",
                        "id":"display_button",
                        "buttons":[
                            {
                                "type":"button",
                                "name":"return_list",
                                "label":"FORM_RETURN_LIST",
                                "class":"btn-primary",
                                "event":"setMode(\"search\")"
                            }
                        ]
                    }
                ]
            }
        ],
        "initEvent": "initAncControlConclusionForm()",
        "tabs":{
            "position":"top",
            "list":[
                {
                    "label":"Tab 0",
                    "elements":[
                        "cl_avis",
                        "cl_classe_cbf",
                        "cl_commentaires",
                        "cl_date_avis",
                        "cl_auteur_avis",
                        "cl_montant",
                        "cl_facture",
                        "cl_facture_le",
                        "display_button",
                        "cl_constat",
                        "cl_travaux",
                        "cl_classe_cbf_warning"
                    ]
                }
            ]
        }
    },
    "search":{
        "name":"anc_saisie_anc_controle_controle_conclusion-form",
        "title":"ANC_SAISIE_ANC_CONTROLE_CONTROLE_CONCLUSION_TITLE",
        "input_size":"xxs",
        "nb_cols":12,
        "javascript":false,
        "rows":[

        ]
    },
    "insert":{
        "name":"anc_saisie_anc_controle_controle_conclusion-form",
        "title":"ANC_SAISIE_ANC_CONTROLE_CONTROLE_CONCLUSION_TITLE_INSERT",
        "input_size":"xxs",
        "nb_cols":12,
        "javascript":false,
        "rows":[

        ],
        "event":"sendSimpleForm()",
        "afterEvent":"editSectionForm()",
        "tabs":{
            "position":"top",
            "list":[
                {
                    "label":"Tab 0",
                    "elements":[

                    ]
                }
            ]
        }
    },
    "update":{
        "name":"anc_saisie_anc_controle_controle_conclusion-form",
        "title":"ANC_SAISIE_ANC_CONTROLE_CONTROLE_CONCLUSION_TITLE",
        "input_size":"xxs",
        "nb_cols":12,
        "javascript":false,
        "rows":[
            {
                "fields":[
                    {
                        "type":"select",
                        "name":"cl_avis",
                        "label":"Avis",
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_avis_1_1",
                        "datasource":{
                            "datasource_id":"datasource_1",
                            "sort_order":"ASC",
                            "distinct":"true",
                            "label_key":"alias",
                            "order_by":"alias",
                            "id_key":"valeur",
                            "attributs":"valeur|alias"
                        },
                        "id_from":"cl_avis_1_1_from"
                    },
                    {
                        "type":"select",
                        "name":"cl_classe_cbf",
                        "label":"Classement à l'issue du contrôle périodique",
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_classe_cbf_2_1",
                        "datasource":{
                            "datasource_id":"datasource_2",
                            "sort_order":"ASC",
                            "distinct":"true",
                            "label_key":"alias",
                            "order_by":"alias",
                            "id_key":"valeur",
                            "attributs":"valeur|alias"
                        },
                        "id_from":"cl_classe_cbf_2_1_from"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"label",
                        "name":"cl_classe_cbf_warning",
                        "label":"EN CAS DE VENTE",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "default_value": "En cas de vente de l'immeuble, l'acquéreur doit procéder aux travaux de mise en conformitéde l'installation dans un délai de 1 an à compter de la date de signature de l'acte authentique de vente.",
                        "id":"cl_classe_cbf_warning_2_1_2"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"textarea",
                        "name":"cl_constat",
                        "label":"Constat",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_constat_2_2",
                        "maxLength": 255
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"textarea",
                        "name":"cl_travaux",
                        "label":"Travaux",
                        "disabled":false,
                        "required":false,
                        "nb_cols":12,
                        "id":"cl_travaux_2_3",
                        "maxLength": 255
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"tinymce",
                        "name":"cl_commentaires",
                        "label":"Commentaires",
                        "nb_cols":12,
                        "id":"cl_commentaires_3_1",
                        "nb_rows":10
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"date",
                        "name":"cl_date_avis",
                        "label":"Date de l'avis",
                        "nb_cols":6,
                        "id":"cl_date_avis_4_1"
                    },
                    {
                        "type":"select",
                        "name":"cl_auteur_avis",
                        "label":"Auteur de l'avis",
                        "disabled":false,
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_auteur_avis_5_1",
                        "datasource":{
                            "datasource_id":"datasource_4",
                            "sort_order":"ASC",
                            "distinct":"true",
                            "label_key":"nom_prenom",
                            "order_by":"nom_prenom",
                            "id_key":"id_parametre_admin",
                            "attributs":"id_parametre_admin|nom_prenom"
                        },
                        "id_from":"cl_auteur_avis_5_1_from"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"editable_select",
                        "name":"cl_montant",
                        "label":"Montant du controle",
                        "required":false,
                        "nb_cols":6,
                        "id":"cl_montant_2_1",
                        "datasource":{
                            "datasource_id":"datasource_3",
                            "sort_order":"ASC",
                            "distinct":"true",
                            "label_key":"libelle_montant",
                            "order_by":"montant",
                            "id_key":"libelle_montant",
                            "attributs":"montant|libelle_montant"
                        },
                        "id_from":"cl_montant_2_1_from"
                    },
                    {
                        "type":"radio",
                        "options":{
                            "choices":[
                                {
                                    "label":"oui",
                                    "value":true,
                                    "$$hashKey":"object:78765"
                                },
                                {
                                    "label":"non",
                                    "value":false,
                                    "$$hashKey":"object:78766"
                                }
                            ]
                        },
                        "name":"cl_facture",
                        "label":"A Facturer",
                        "disabled":false,
                        "required":false,
                        "nb_cols":4,
                        "id":"cl_facture_8_1"
                    },
                    {
                        "type":"date",
                        "name":"cl_facture_le",
                        "label":"Date de facturation",
                        "nb_cols":4,
                        "id":"cl_facture_le_9_1"
                    }
                ]
            },
            {
                "fields":[
                    {
                        "type":"button",
                        "class":"btn-ungroup btn-group-sm",
                        "nb_cols":12,
                        "name":"update_button",
                        "id":"update_button",
                        "buttons":[
                            {
                                "type":"submit",
                                "name":"form_submit",
                                "label":"FORM_UPDATE",
                                "class":"btn-primary"
                            },
                            {
                                "type":"button",
                                "name":"return_list",
                                "label":"FORM_RETURN_LIST",
                                "class":"btn-primary",
                                "event":"setMode(\"search\")"
                            }
                        ]
                    }
                ]
            }
        ],
        "initEvent": "initAncControlConclusionForm()",
        "event":"sendSimpleForm()",
        "tabs":{
            "position":"top",
            "list":[
                {
                    "label":"Tab 0",
                    "elements":[
                        "cl_avis",
                        "cl_classe_cbf",
                        "cl_commentaires",
                        "cl_date_avis",
                        "cl_auteur_avis",
                        "cl_montant",
                        "cl_facture",
                        "cl_facture_le",
                        "update_button",
                        "cl_constat",
                        "cl_travaux",
                        "cl_classe_cbf_warning"
                    ]
                }
            ]
        }
    },
    "datasources":{
        "datasource_1":{
            "type":"web_service",
            "dataType":"tableValue",
            "name":"cl_avis",
            "description":"",
            "parameters":{
                "filter": {"id_nom_table": "controle", "nom_liste": "cl_avis"},
                "schema":"s_anc",
                "table":"param_liste"
            },
            "ressource_id":"vitis/genericquerys"
        },
        "datasource_2":{
            "type":"web_service",
            "dataType":"tableValue",
            "name":"cl_classe_cbf",
            "description":"",
            "parameters":{
                "filter": {"id_nom_table": "controle", "nom_liste": "cl_classe_cbf"},
                "schema":"s_anc",
                "table":"param_liste"
            },
            "ressource_id":"vitis/genericquerys"
        },
        "datasource_3":{
            "type":"web_service",
            "dataType":"tableValue",
            "name":"cl_montant",
            "description":"",
            "parameters":{
                "filter": {"annee_validite": "", "controle_type": ""}
            },
            "ressource_id":"anc/param_tarifs"
        },
        "datasource_4":{
            "type":"web_service",
            "dataType":"tableValue",
            "name":"cl_auteur_avis",
            "description":"",
            "parameters":{
                "filter": {"type": "Contrôleur"}
            },
            "ressource_id":"anc/param_admins"
        }
    }
}